---
title: Validator Params
description: API reference for validator parameter configuration objects.
---

# Validator Parameters

When creating a `ValidationColumnConfig`, two parameters are used to define the validator: `validator_type` and `validator_params`.
The `validator_type` parameter can be set to either `code`, `local_callable` or `remote`. The `validator_params` accompanying each of these is described below.

## CodeValidatorParams

```python
class CodeValidatorParams(BaseModel):
    """Parameters for code validation."""
    
    code_lang: CodeLang  # Programming language to validate
```

### Supported Languages

For Python code validation (uses Ruff):
- `CodeLang.PYTHON`

For SQL code validation (uses SQLFluff):
- `CodeLang.SQL_ANSI`
- `CodeLang.SQL_POSTGRES`
- `CodeLang.SQL_MYSQL`
- `CodeLang.SQL_SQLITE`
- `CodeLang.SQL_TSQL`
- `CodeLang.SQL_BIGQUERY`

### Example Usage

```python
from data_designer.essentials import (
    CodeLang,
    CodeValidatorParams,
    ValidationColumnConfig,
    ValidatorType,
)

# Python code validation
python_validator = ValidationColumnConfig(
    name="python_validation",
    validator_type=ValidatorType.CODE,
    target_columns=["python_code"],
    validator_params=CodeValidatorParams(code_lang=CodeLang.PYTHON),
    batch_size=10,
)

# SQL code validation
sql_validator = ValidationColumnConfig(
    name="sql_validation",
    validator_type=ValidatorType.CODE,
    target_columns=["sql_query"],
    validator_params=CodeValidatorParams(code_lang=CodeLang.SQL_POSTGRES),
    batch_size=10,
)
```

## LocalCallableValidatorParams

```python
class LocalCallableValidatorParams(BaseModel):
    """Parameters for local callable validation."""
    
    validation_function: Callable[[pd.DataFrame], pd.DataFrame]
    # Function that takes DataFrame and returns DataFrame with is_valid column
    
    output_schema: dict | None = None
    # Optional JSON schema to validate function output
```

### Function Requirements

The validation function must:
1. Accept a `pd.DataFrame` containing the target columns
2. Return a `pd.DataFrame` with at minimum an `is_valid` column (boolean or null)
3. Any additional columns in the output become validation metadata

### Example Usage

```python
import pandas as pd
from data_designer.essentials import (
    LocalCallableValidatorParams,
    ValidationColumnConfig,
    ValidatorType,
)

def validate_positive_prices(df: pd.DataFrame) -> pd.DataFrame:
    """Validate that all prices are positive."""
    result = pd.DataFrame()
    result["is_valid"] = df["price"] > 0
    result["error_message"] = result["is_valid"].apply(
        lambda v: "" if v else "Price must be positive"
    )
    return result

validator = ValidationColumnConfig(
    name="price_validation",
    validator_type=ValidatorType.LOCAL_CALLABLE,
    target_columns=["price"],
    validator_params=LocalCallableValidatorParams(
        validation_function=validate_positive_prices,
    ),
    batch_size=50,
)
```

## RemoteValidatorParams

```python
class RemoteValidatorParams(BaseModel):
    """Parameters for remote HTTP validation."""
    
    endpoint_url: str  # URL of the validation endpoint
    timeout: float = 30.0  # Request timeout in seconds
    max_retries: int = 3  # Number of retry attempts
    retry_backoff: float = 2.0  # Exponential backoff factor
    max_parallel_requests: int = 4  # Maximum concurrent requests
    output_schema: dict | None = None  # Optional response schema validation
```

### Request/Response Format

**Request (POST):**
```json
{
    "data": [
        {"column1": "value1", "column2": "value2"},
        {"column1": "value3", "column2": "value4"}
    ]
}
```

**Response:**
```json
{
    "data": [
        {"is_valid": true, "additional_field": "value"},
        {"is_valid": false, "additional_field": "value"}
    ]
}
```

### Example Usage

```python
from data_designer.essentials import (
    RemoteValidatorParams,
    ValidationColumnConfig,
    ValidatorType,
)

validator = ValidationColumnConfig(
    name="external_validation",
    validator_type=ValidatorType.REMOTE,
    target_columns=["content"],
    validator_params=RemoteValidatorParams(
        endpoint_url="https://api.example.com/validate",
        timeout=60.0,
        max_retries=3,
        max_parallel_requests=4,
    ),
    batch_size=5,
)
```
